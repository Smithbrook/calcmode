<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Stock Trader’s Calculator Suite | CalcMode</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Essential calculators for stock traders and investors: percentage gain/loss, compound interest, position size, dividend yield, risk/reward, options P/L.">
  <link rel="icon" type="image/svg+xml" href="CalcMode.svg">
  <style>
    :root {
      --primary: #2563eb;
      --secondary: #f1f5f9;
      --accent: #38bdf8;
      --border: #e5e7eb;
      --text: #1e293b;
      --muted: #64748b;
      --bg: #fff;
      --radius: 12px;
      --shadow: 0 2px 12px 0 rgba(30,41,59,0.06);
    }
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
    }
    body {
      max-width: 600px;
      margin: 0 auto;
      padding: 0 1rem 2rem 1rem;
    }
    header {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 2rem 0 1.5rem 0;
    }
    header img {
      width: 128px;
      height: 128px;
      margin-bottom: 0.5rem;
      border-radius: 8px;
      box-shadow: var(--shadow);
      background: var(--secondary);
    }
    h1 {
      font-size: 1.7rem;
      font-weight: 700;
      margin: 0 0 0.2em 0;
      letter-spacing: -1px;
      text-align: center;
    }
    .subtitle {
      color: var(--muted);
      font-size: 1rem;
      margin-bottom: 0.5em;
      text-align: center;
    }
    nav {
      display: flex;
      justify-content: center;
      margin-bottom: 1.5rem;
      gap: 1.5rem;
    }
    nav a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 600;
      font-size: 1.05em;
      padding: 0.3em 0.7em;
      border-radius: 6px;
      transition: background 0.15s;
    }
    nav a.active, nav a:hover {
      background: var(--secondary);
    }
    .tabs {
      display: flex;
      border-bottom: 1px solid var(--border);
      margin-bottom: 1.2rem;
      gap: 0.2rem;
      overflow-x: auto;
    }
    .tab-btn {
      background: none;
      border: none;
      color: var(--muted);
      font-weight: 600;
      font-size: 1em;
      padding: 0.7em 1.2em;
      cursor: pointer;
      border-radius: 12px 12px 0 0;
      transition: background 0.15s, color 0.15s;
      outline: none;
    }
    .tab-btn.active {
      background: var(--secondary);
      color: var(--primary);
      border-bottom: 2px solid var(--primary);
    }
    .tab-content {
      display: none;
      background: var(--secondary);
      border-radius: 0 0 var(--radius) var(--radius);
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      border-top: none;
      padding: 1.2em 1em 1em 1em;
      margin-bottom: 1.2rem;
      min-height: 180px;
    }
    .tab-content.active {
      display: block;
    }
    label {
      display: block;
      margin: 0.7em 0 0.2em 0;
      font-size: 0.98em;
      color: var(--muted);
    }
    input, select {
      width: 100%;
      padding: 0.5em;
      border: 1px solid var(--border);
      border-radius: 6px;
      font-size: 1em;
      margin-bottom: 0.2em;
      background: #fff;
      color: var(--text);
      box-sizing: border-box;
      transition: border 0.2s;
    }
    input:focus, select:focus {
      border-color: var(--primary);
      outline: none;
    }
    button {
      background: var(--primary);
      color: #fff;
      border: none;
      border-radius: 6px;
      padding: 0.6em 1.2em;
      font-size: 1em;
      font-weight: 600;
      margin: 0.7em 0.5em 0.2em 0;
      cursor: pointer;
      box-shadow: 0 1px 4px 0 rgba(30,41,59,0.07);
      transition: background 0.2s;
    }
    button:active {
      background: var(--accent);
    }
    .result {
      background: #fff;
      border-radius: 6px;
      border: 1px solid var(--border);
      margin-top: 0.7em;
      padding: 0.7em 0.9em;
      font-size: 1.05em;
      color: var(--primary);
      font-weight: 500;
      word-break: break-word;
    }
    .explanation {
      color: var(--muted);
      font-size: 0.97em;
      margin-bottom: 0.5em;
      margin-top: 0.2em;
    }
    @media (max-width: 600px) {
      body { padding: 0 0.2rem 2rem 0.2rem; }
      header img { width: 96px; height: 96px; }
      h1 { font-size: 1.2rem; }
      .tabs { font-size: 0.97em; }
      .tab-btn { padding: 0.6em 0.7em; }
      .tab-content { padding: 0.7em 0.5em 0.7em 0.5em; }
    }
  </style>
</head>
<body>
  <header>
    <img src="CalcMode.svg" alt="CalcMode Logo" />
    <h1>Stock Trader’s Calculator Suite</h1>
    <div class="subtitle">Essential tools for investors &amp; traders</div>
  </header>
  <nav>
    <a href="index.html" class="active">Calculators</a>
    <a href="about.html">About</a>
  </nav>
  <div class="tabs" id="tabs">
    <button class="tab-btn active" data-tab="pg">Gain/Loss</button>
    <button class="tab-btn" data-tab="ci">Compound</button>
    <button class="tab-btn" data-tab="ps">Position Size</button>
    <button class="tab-btn" data-tab="dy">Dividend Yield</button>
    <button class="tab-btn" data-tab="rr">Risk/Reward</button>
    <button class="tab-btn" data-tab="op">Options P/L</button>
  </div>

  <!-- 1. Percentage Gain/Loss Calculator -->
  <div class="tab-content active" id="tab-pg">
    <div class="explanation">
      Calculate your trade’s gain/loss, including fees. See both dollar and percent returns.
    </div>
    <label for="pg-entry">Entry Price ($)</label>
    <input type="number" id="pg-entry" min="0" step="any" placeholder="e.g. 100">
    <label for="pg-exit">Exit Price ($)</label>
    <input type="number" id="pg-exit" min="0" step="any" placeholder="e.g. 120">
    <label for="pg-shares">Shares</label>
    <input type="number" id="pg-shares" min="1" step="1" placeholder="e.g. 10">
    <label for="pg-fees">Total Fees/Commissions ($)</label>
    <input type="number" id="pg-fees" min="0" step="any" placeholder="e.g. 2.50">
    <button onclick="calcPercentGain()">Calculate</button>
    <button onclick="clearPercentGain()" type="button">Clear</button>
    <div id="pg-result" class="result" style="display:none"></div>
  </div>

  <!-- 2. Compound Interest Calculator -->
  <div class="tab-content" id="tab-ci">
    <div class="explanation">
      See how your investments grow over time. Supports regular contributions.
    </div>
    <label for="ci-principal">Initial Amount ($)</label>
    <input type="number" id="ci-principal" min="0" step="any" placeholder="e.g. 5000">
    <label for="ci-rate">Annual Interest Rate (%)</label>
    <input type="number" id="ci-rate" min="0" step="any" placeholder="e.g. 8">
    <label for="ci-years">Years</label>
    <input type="number" id="ci-years" min="1" step="1" placeholder="e.g. 10">
    <label for="ci-contrib">Regular Contribution ($/period)</label>
    <input type="number" id="ci-contrib" min="0" step="any" placeholder="e.g. 100">
    <label for="ci-freq">Compounding Frequency</label>
    <select id="ci-freq">
      <option value="1">Annually</option>
      <option value="2">Semi-annually</option>
      <option value="4">Quarterly</option>
      <option value="12" selected>Monthly</option>
      <option value="52">Weekly</option>
      <option value="365">Daily</option>
    </select>
    <button onclick="calcCompound()">Calculate</button>
    <button onclick="clearCompound()" type="button">Clear</button>
    <div id="ci-result" class="result" style="display:none"></div>
  </div>

  <!-- 3. Position Size Calculator -->
  <div class="tab-content" id="tab-ps">
    <div class="explanation">
      Manage risk: calculate optimal position size based on account, risk %, and stop-loss.
    </div>
    <label for="ps-account">Account Size ($)</label>
    <input type="number" id="ps-account" min="0" step="any" placeholder="e.g. 10000">
    <label for="ps-risk">Risk per Trade (%)</label>
    <input type="number" id="ps-risk" min="0" max="100" step="any" placeholder="e.g. 2">
    <label for="ps-entry">Entry Price ($)</label>
    <input type="number" id="ps-entry" min="0" step="any" placeholder="e.g. 50">
    <label for="ps-stop">Stop-Loss Price ($)</label>
    <input type="number" id="ps-stop" min="0" step="any" placeholder="e.g. 48">
    <button onclick="calcPositionSize()">Calculate</button>
    <button onclick="clearPositionSize()" type="button">Clear</button>
    <div id="ps-result" class="result" style="display:none"></div>
  </div>

  <!-- 4. Dividend Yield Calculator -->
  <div class="tab-content" id="tab-dy">
    <div class="explanation">
      Calculate dividend yield, annual income, and growth. Compare dividend stocks.
    </div>
    <label for="dy-price">Stock Price ($)</label>
    <input type="number" id="dy-price" min="0" step="any" placeholder="e.g. 40">
    <label for="dy-dividend">Annual Dividend per Share ($)</label>
    <input type="number" id="dy-dividend" min="0" step="any" placeholder="e.g. 1.20">
    <label for="dy-shares">Shares Owned</label>
    <input type="number" id="dy-shares" min="1" step="1" placeholder="e.g. 100">
    <label for="dy-growth">Annual Dividend Growth Rate (%)</label>
    <input type="number" id="dy-growth" min="0" step="any" placeholder="e.g. 5">
    <label for="dy-years">Years (for growth projection)</label>
    <input type="number" id="dy-years" min="1" step="1" placeholder="e.g. 5">
    <button onclick="calcDividendYield()">Calculate</button>
    <button onclick="clearDividendYield()" type="button">Clear</button>
    <div id="dy-result" class="result" style="display:none"></div>
  </div>

  <!-- 5. Risk-to-Reward Ratio Calculator -->
  <div class="tab-content" id="tab-rr">
    <div class="explanation">
      Evaluate trade setups: calculate risk/reward ratio using stop-loss and target.
    </div>
    <label for="rr-entry">Entry Price ($)</label>
    <input type="number" id="rr-entry" min="0" step="any" placeholder="e.g. 100">
    <label for="rr-stop">Stop-Loss Price ($)</label>
    <input type="number" id="rr-stop" min="0" step="any" placeholder="e.g. 95">
    <label for="rr-target">Target Price ($)</label>
    <input type="number" id="rr-target" min="0" step="any" placeholder="e.g. 110">
    <button onclick="calcRiskReward()">Calculate</button>
    <button onclick="clearRiskReward()" type="button">Clear</button>
    <div id="rr-result" class="result" style="display:none"></div>
  </div>

  <!-- 6. Options Profit/Loss Calculator -->
  <div class="tab-content" id="tab-op">
    <div class="explanation">
      Simple options P/L: calculate profit or loss for calls/puts at expiration.
    </div>
    <label for="op-type">Option Type</label>
    <select id="op-type">
      <option value="call">Call</option>
      <option value="put">Put</option>
    </select>
    <label for="op-premium">Premium Paid ($/contract)</label>
    <input type="number" id="op-premium" min="0" step="any" placeholder="e.g. 2.50">
    <label for="op-strike">Strike Price ($)</label>
    <input type="number" id="op-strike" min="0" step="any" placeholder="e.g. 50">
    <label for="op-stock">Stock Price at Expiration ($)</label>
    <input type="number" id="op-stock" min="0" step="any" placeholder="e.g. 55">
    <label for="op-contracts">Contracts</label>
    <input type="number" id="op-contracts" min="1" step="1" placeholder="e.g. 1">
    <button onclick="calcOptionsPL()">Calculate</button>
    <button onclick="clearOptionsPL()" type="button">Clear</button>
    <div id="op-result" class="result" style="display:none"></div>
  </div>

  <footer style="text-align:center; color:var(--muted); font-size:0.95em; margin-top:2em;">
    &copy; 2025 CalcMode. For informational purposes only.
  </footer>

  <script>
    // Tab switching logic
    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(tc => tc.classList.remove('active'));
        this.classList.add('active');
        document.getElementById('tab-' + this.dataset.tab).classList.add('active');
      });
    });

    // 1. Percentage Gain/Loss Calculator
    function calcPercentGain() {
      const entry = parseFloat(document.getElementById('pg-entry').value);
      const exit = parseFloat(document.getElementById('pg-exit').value);
      const shares = parseFloat(document.getElementById('pg-shares').value);
      const fees = parseFloat(document.getElementById('pg-fees').value) || 0;
      const resultDiv = document.getElementById('pg-result');
      if (isNaN(entry) || isNaN(exit) || isNaN(shares) || shares <= 0 || entry < 0 || exit < 0) {
        resultDiv.style.display = 'block';
        resultDiv.innerHTML = "Please enter valid entry, exit, and share values.";
        return;
      }
      const gross = (exit - entry) * shares;
      const net = gross - fees;
      const percent = entry > 0 ? (net / (entry * shares)) * 100 : 0;
      resultDiv.style.display = 'block';
      resultDiv.innerHTML = `
        <strong>Net P/L:</strong> $${net.toFixed(2)}<br>
        <strong>Return:</strong> ${percent.toFixed(2)}%
        <br><span style="color:var(--muted);font-size:0.97em;">(Includes fees: $${fees.toFixed(2)})</span>
      `;
    }
    function clearPercentGain() {
      ['pg-entry','pg-exit','pg-shares','pg-fees'].forEach(id => document.getElementById(id).value = '');
      document.getElementById('pg-result').style.display = 'none';
    }

    // 2. Compound Interest Calculator
    function calcCompound() {
      const P = parseFloat(document.getElementById('ci-principal').value);
      const r = parseFloat(document.getElementById('ci-rate').value) / 100;
      const t = parseFloat(document.getElementById('ci-years').value);
      const contrib = parseFloat(document.getElementById('ci-contrib').value) || 0;
      const n = parseInt(document.getElementById('ci-freq').value);
      const resultDiv = document.getElementById('ci-result');
      if (isNaN(P) || isNaN(r) || isNaN(t) || isNaN(n) || P < 0 || r < 0 || t <= 0 || n <= 0) {
        resultDiv.style.display = 'block';
        resultDiv.innerHTML = "Please enter valid values.";
        return;
      }
      let FV = P * Math.pow(1 + r/n, n*t);
      if (contrib > 0 && r > 0) {
        FV += contrib * ((Math.pow(1 + r/n, n*t) - 1) / (r/n));
      } else if (contrib > 0 && r === 0) {
        FV += contrib * n * t;
      }
      const totalContrib = P + (contrib > 0 ? contrib * n * t : 0);
      const totalInterest = FV - totalContrib;
      resultDiv.style.display = 'block';
      resultDiv.innerHTML = `
        <strong>Future Value:</strong> $${FV.toFixed(2)}<br>
        <strong>Total Contributions:</strong> $${totalContrib.toFixed(2)}<br>
        <strong>Total Interest:</strong> $${totalInterest.toFixed(2)}
      `;
    }
    function clearCompound() {
      ['ci-principal','ci-rate','ci-years','ci-contrib','ci-freq'].forEach(id => document.getElementById(id).value = '');
      document.getElementById('ci-freq').selectedIndex = 3; // Monthly
      document.getElementById('ci-result').style.display = 'none';
    }

    // 3. Position Size Calculator
    function calcPositionSize() {
      const account = parseFloat(document.getElementById('ps-account').value);
      const riskPct = parseFloat(document.getElementById('ps-risk').value) / 100;
      const entry = parseFloat(document.getElementById('ps-entry').value);
      const stop = parseFloat(document.getElementById('ps-stop').value);
      const resultDiv = document.getElementById('ps-result');
      if (isNaN(account) || isNaN(riskPct) || isNaN(entry) || isNaN(stop) ||
          account <= 0 || riskPct <= 0 || riskPct > 1 || entry <= 0 || stop < 0 || stop >= entry) {
        resultDiv.style.display = 'block';
        resultDiv.innerHTML = "Please enter valid values. (Stop-loss must be below entry price.)";
        return;
      }
      const riskPerShare = entry - stop;
      const maxRisk = account * riskPct;
      const shares = Math.floor(maxRisk / riskPerShare);
      resultDiv.style.display = 'block';
      resultDiv.innerHTML = `
        <strong>Position Size:</strong> ${shares} shares<br>
        <strong>Max Risk:</strong> $${maxRisk.toFixed(2)}<br>
        <span style="color:var(--muted);font-size:0.97em;">(Risk per share: $${riskPerShare.toFixed(2)})</span>
      `;
    }
    function clearPositionSize() {
      ['ps-account','ps-risk','ps-entry','ps-stop'].forEach(id => document.getElementById(id).value = '');
      document.getElementById('ps-result').style.display = 'none';
    }

    // 4. Dividend Yield Calculator
    function calcDividendYield() {
      const price = parseFloat(document.getElementById('dy-price').value);
      const dividend = parseFloat(document.getElementById('dy-dividend').value);
      const shares = parseFloat(document.getElementById('dy-shares').value);
      const growth = parseFloat(document.getElementById('dy-growth').value) || 0;
      const years = parseInt(document.getElementById('dy-years').value) || 0;
      const resultDiv = document.getElementById('dy-result');
      if (isNaN(price) || isNaN(dividend) || isNaN(shares) || price <= 0 || dividend < 0 || shares <= 0) {
        resultDiv.style.display = 'block';
        resultDiv.innerHTML = "Please enter valid values.";
        return;
      }
      const yieldPct = price > 0 ? (dividend / price) * 100 : 0;
      const annualIncome = dividend * shares;
      let projDividend = dividend, projIncome = annualIncome;
      if (growth > 0 && years > 0) {
        projDividend = dividend * Math.pow(1 + growth/100, years);
        projIncome = projDividend * shares;
      }
      resultDiv.style.display = 'block';
      resultDiv.innerHTML = `
        <strong>Dividend Yield:</strong> ${yieldPct.toFixed(2)}%<br>
        <strong>Annual Income:</strong> $${annualIncome.toFixed(2)}
        ${growth > 0 && years > 0 ? `<br><strong>Projected Yield (${years} yrs):</strong> ${(projDividend/price*100).toFixed(2)}%<br>
        <strong>Projected Annual Income:</strong> $${projIncome.toFixed(2)}` : ''}
      `;
    }
    function clearDividendYield() {
      ['dy-price','dy-dividend','dy-shares','dy-growth','dy-years'].forEach(id => document.getElementById(id).value = '');
      document.getElementById('dy-result').style.display = 'none';
    }

    // 5. Risk-to-Reward Ratio Calculator
    function calcRiskReward() {
      const entry = parseFloat(document.getElementById('rr-entry').value);
      const stop = parseFloat(document.getElementById('rr-stop').value);
      const target = parseFloat(document.getElementById('rr-target').value);
      const resultDiv = document.getElementById('rr-result');
      if (isNaN(entry) || isNaN(stop) || isNaN(target) ||
          entry <= 0 || stop < 0 || stop >= entry || target <= entry) {
        resultDiv.style.display = 'block';
        resultDiv.innerHTML = "Please enter valid values. (Stop-loss must be below entry; target above entry.)";
        return;
      }
      const risk = entry - stop;
      const reward = target - entry;
      const ratio = reward / risk;
      resultDiv.style.display = 'block';
      resultDiv.innerHTML = `
        <strong>Risk/Reward Ratio:</strong> 1 : ${ratio.toFixed(2)}<br>
        <strong>Risk per Share:</strong> $${risk.toFixed(2)}<br>
        <strong>Reward per Share:</strong> $${reward.toFixed(2)}
      `;
    }
    function clearRiskReward() {
      ['rr-entry','rr-stop','rr-target'].forEach(id => document.getElementById(id).value = '');
      document.getElementById('rr-result').style.display = 'none';
    }

    // 6. Options Profit/Loss Calculator
    function calcOptionsPL() {
      const type = document.getElementById('op-type').value;
      const premium = parseFloat(document.getElementById('op-premium').value);
      const strike = parseFloat(document.getElementById('op-strike').value);
      const stock = parseFloat(document.getElementById('op-stock').value);
      const contracts = parseInt(document.getElementById('op-contracts').value);
      const resultDiv = document.getElementById('op-result');
      if (isNaN(premium) || isNaN(strike) || isNaN(stock) || isNaN(contracts) ||
          premium < 0 || strike < 0 || stock < 0 || contracts <= 0) {
        resultDiv.style.display = 'block';
        resultDiv.innerHTML = "Please enter valid values.";
        return;
      }
      let pl = 0;
      if (type === 'call') {
        pl = Math.max(0, stock - strike) - premium;
      } else {
        pl = Math.max(0, strike - stock) - premium;
      }
      const totalPL = pl * contracts * 100;
      resultDiv.style.display = 'block';
      resultDiv.innerHTML = `
        <strong>Profit/Loss per Contract:</strong> $${(pl*100).toFixed(2)}<br>
        <strong>Total P/L (${contracts} contract${contracts>1?'s':''}):</strong> $${totalPL.toFixed(2)}
      `;
    }
    function clearOptionsPL() {
      ['op-premium','op-strike','op-stock','op-contracts'].forEach(id => document.getElementById(id).value = '');
      document.getElementById('op-type').selectedIndex = 0;
      document.getElementById('op-result').style.display = 'none';
    }
  </script>
</body>
</html>
